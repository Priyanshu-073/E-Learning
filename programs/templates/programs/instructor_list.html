{% extends 'programs/base.html' %}

{% block title %}Instructors{% endblock %}

{% block content %}
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="page-title">Instructors</h1>
    <div class="search-inline">
      <input class="form-control" data-search-input data-target="#instructors-grid" placeholder="Search instructors or subjects..." />
    </div>
  </div>

  {% if instructors %}
    <div id="instructors-grid" class="row g-3">
      {% for i in instructors %}
        <div class="col-12 col-sm-6 col-md-4">
          <div class="card instructor-card h-100" data-searchable data-search-text="{{ i.name }} {{ i.bio }}">
            <div class="card-body d-flex flex-column">
              <div class="d-flex align-items-center mb-3">
                <div class="instructor-avatar me-3">{{ i.name|slice:":1"|upper }}</div>
                <div>
                  <div class="instructor-name">{{ i.name }}</div>
                  <div class="text-muted small instructor-sub">{{ i.bio|truncatechars:80 }}</div>
                </div>
              </div>
              <div class="mt-auto d-flex justify-content-between align-items-center">
                <a href="#" class="btn view-profile-btn" data-name="{{ i.name|escapejs }}" data-bio="{{ i.bio|escapejs }}">View Profile</a>
                <small class="text-muted">&nbsp;</small>
              </div>
            </div>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p class="text-muted">No instructors yet.</p>
  {% endif %}

  <!-- Instructor detail modal -->
  <div class="modal fade" id="instructorModal" tabindex="-1" aria-labelledby="instructorModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="instructorModalLabel">Instructor</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="d-flex align-items-start gap-3">
            <div class="instructor-avatar-lg"></div>
            <div>
              <h4 id="instructorName"></h4>
              <p id="instructorBio" class="text-muted"></p>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
